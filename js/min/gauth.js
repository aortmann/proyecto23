function handleClientLoad(){gapi.load("client:auth2",initClient)}function initClient(){gapi.client.init({apiKey:API_KEY,clientId:CLIENT_ID,discoveryDocs:DISCOVERY_DOCS,scope:SCOPES}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus),updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get()),authorizeButton.onclick=handleAuthClick,signoutButton.onclick=handleSignoutClick,refreshButton.onclick=handleRefreshClick})}function updateSigninStatus(t){t?(authorizeButton.classList.add("is-hidden"),signoutButton.classList.remove("is-hidden"),refreshButton.classList.remove("is-hidden"),getData()):(authorizeButton.classList.remove("is-hidden"),signoutButton.classList.add("is-hidden"),refreshButton.classList.add("is-hidden"))}function handleAuthClick(t){localStorage.clear(),gapi.auth2.getAuthInstance().signIn()}function handleSignoutClick(t){localStorage.clear(),gapi.auth2.getAuthInstance().signOut(),location.reload()}function handleRefreshClick(t){localStorage.clear(),getData()}function appendPre(t){var e=document.getElementById("content"),n=document.createTextNode(t+"\n");e.appendChild(n)}function getData(){toggleRefreshButton(),(data=localStorage.getItem("gdata"))?(data=JSON.parse(data),initFrontPage(data),toggleRefreshButton()):gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1WIdnoOnyQkRFGfwXYySOR-nK5pB6KqwN6aKapOe3vRA",range:"Vocabulario"}).then(function(t){data={};var e=t.result;if(e.values.length>0){for(i=1;i<e.values.length;i++)for(j=0;j<8;j++)data[e.values[0][j]]||(data[e.values[0][j]]=[]),data[e.values[0][j]].push((e.values[i][j]||"").toLowerCase().trim());localStorage.setItem("gdata",JSON.stringify(data)),toggleRefreshButton(),location.reload()}else appendPre("No data found.")},function(t){appendPre("Error: "+t.result.error.message)})}function writeData(t,e){var n={spreadsheetId:"1WIdnoOnyQkRFGfwXYySOR-nK5pB6KqwN6aKapOe3vRA",range:t,majorDimension:"ROWS",valueInputOption:"USER_ENTERED",values:[[e]]};gapi.client.sheets.spreadsheets.values.update(n).then(function(t){console.log(t)},function(t){appendPre("Error: "+t.result.error.message)})}function toggleRefreshButton(){refreshButton.getElementsByTagName("i")[0].classList.toggle("fa-spin")}var CLIENT_ID="245771448899-d2ie87n0pmlsm3r77eh7u76p4f1hh2a8.apps.googleusercontent.com",API_KEY="AIzaSyAPrkvQe0v8JxApzsjVrTb8-TiG4wuhKDo",DISCOVERY_DOCS=["https://sheets.googleapis.com/$discovery/rest?version=v4"],SCOPES="https://www.googleapis.com/auth/spreadsheets",authorizeButton=document.getElementById("authorize-button"),signoutButton=document.getElementById("signout-button"),refreshButton=document.getElementById("refresh-button"),data={};
