!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(){function e(e){var t=r.style.width;r.style.width="0px",r.offsetWidth,r.style.width=t,r.style.overflowY=e}function t(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function n(){var e=r.style.height,n=t(r),o=document.documentElement&&document.documentElement.scrollTop;r.style.height="";var i=r.scrollHeight+l;0!==r.scrollHeight?(r.style.height=i+"px",s=r.clientWidth,n.forEach(function(e){e.node.scrollTop=e.scrollTop}),o&&(document.documentElement.scrollTop=o)):r.style.height=e}function o(){n();var t=Math.round(parseFloat(r.style.height)),o=window.getComputedStyle(r,null),i="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):r.offsetHeight;if(i!==t?"hidden"===o.overflowY&&(e("scroll"),n(),i="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight):"hidden"!==o.overflowY&&(e("hidden"),n(),i="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight),u!==i){u=i;var l=d("autosize:resized");try{r.dispatchEvent(l)}catch(e){}}}var r=document.getElementById("fromTextAreaElement"),l=null,s=r.clientWidth,u=null,a=function(){r.clientWidth!==s&&o()},c=function(e){window.removeEventListener("resize",a,!1),r.removeEventListener("input",o,!1),r.removeEventListener("keyup",o,!1),r.removeEventListener("autosize:destroy",c,!1),r.removeEventListener("autosize:update",o,!1),Object.keys(e).forEach(function(t){r.style[t]=e[t]}),i.delete(r)}.bind(r,{height:r.style.height,resize:r.style.resize,overflowY:r.style.overflowY,overflowX:r.style.overflowX,wordWrap:r.style.wordWrap});r.addEventListener("autosize:destroy",c,!1),"onpropertychange"in r&&"oninput"in r&&r.addEventListener("keyup",o,!1),window.addEventListener("resize",a,!1),r.addEventListener("input",o,!1),r.addEventListener("autosize:update",o,!1),r.style.overflowX="hidden",r.style.wordWrap="break-word",i.set(r,{destroy:c,update:o}),function(){var e=window.getComputedStyle(r,null);"vertical"===e.resize?r.style.resize="none":"both"===e.resize&&(r.style.resize="horizontal"),l="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(l)&&(l=0),o()}()}function o(e){var t=i.get(e);t&&t.destroy()}function r(e){var t=i.get(e);t&&t.update()}var i="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){-1===e.indexOf(n)&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}}(),d=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){d=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e){return n()}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e}),t.exports=l});
