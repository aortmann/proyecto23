function initFrontPage(t){languages=Object.keys(t);var e="abcdefghijklmnopqrstuvwxyz".toUpperCase().split("");new Vue({el:"#proyecto23",data:{fromLanguage:languages[0],toLanguage:null,languages:languages,fromText:"",baseWord:null,wordToFix:null,isNew:!1,openCorrectionModal:function(t,e,i){this.isNew=i,this.baseWord=sanitize(this.fromText.split(" ")[e]),this.wordToFix=sanitize(t),document.getElementById("correction-modal").classList.add("is-active")},saveNewWord:function(){if(position=findPosition(this.fromLanguage,this.baseWord),position){var i=e[Object.keys(t).indexOf(this.toLanguage)]+position.y,o="Vocabulario!"+i+":"+i,n=sanitize(this.wordToFix).toLowerCase();if(writeData(o,n),t[this.toLanguage].push(n),this.isNew){o="Vocabulario!"+(i=e[Object.keys(t).indexOf(this.fromLanguage)]+position.y)+":"+i;var a=sanitize(this.baseWord).toLowerCase();writeData(o,a),t[this.fromLanguage].push(a)}this.fromText+=" ",this.fromText=this.fromText.trim(),localStorage.setItem("forceRefresh",!0),document.getElementById("correction-modal").classList.remove("is-active")}}},filters:{capitalize:function(t){return t.capitalize()}},computed:{toText:function(){if(this.fromText){var t=this.fromText.split(" "),e=[];for(var i in t)e.push(find(this.fromLanguage,this.toLanguage,t[i]));var o=e.map(function(t){return t.word}).join("|").sentenceCase().split("|");for(var i in e)e[i].word=o[i]+" ";return e}return null},filteredLanguages:function(){var t=this,e=languages.filter(function(e){return e!==t.fromLanguage});return this.toLanguage=e[0],e}}});autosize(),setModalFunction()}function find(t,e,i){var o={found:!1,foundInBase:!1,word:i+" "};if(e){var n=i.indexOf("."),a=i.indexOf(","),r=i.indexOf("¿"),s=i.indexOf("?"),d=i.indexOf("¡"),u=i.indexOf("!");i=sanitize(i);var l=new XRegExp("^\\p{L}*$").exec(i.toLowerCase());if(l&&l.length>0){l=l[0];var c=data[t].indexOf(l);c>-1&&(o.foundInBase=!0,data[e][c].length>0&&(o.word=data[e][c],n>-1&&(o.word=data[e][c]+"."),a>-1&&(o.word=data[e][c]+","),r>-1&&s>-1&&(o.word="¿"+data[e][c]+"?"),r>-1&&(o.word="¿"+data[e][c]),s>-1&&(o.word=data[e][c]+"?"),d>-1&&u>-1&&(o.word="¡"+data[e][c]+"!"),d>-1&&(o.word="¡"+data[e][c]),u>-1&&(o.word=data[e][c]+"!"),o.word=o.word+" ",o.found=!0))}}return o}function findPosition(t,e){e=sanitize(e);var i=new XRegExp("^\\p{L}*$").exec(e.toLowerCase());if(i&&i.length>0){i=i[0];var o=data[t].indexOf(i);if(o>-1)return{y:o+2}}return{y:data[t].length+2}}function sanitize(t){return t.split(".").join("").split(",").join("").split("¿").join("").split("?").join("").split("¡").join("").split("!").join("").trim()}function setModalFunction(){document.getElementsByClassName("modal-background")[0].onclick=function(){document.getElementById("correction-modal").classList.remove("is-active")},document.getElementsByClassName("modal-close")[0].onclick=function(){document.getElementById("correction-modal").classList.remove("is-active")}}
